<div class="auth-container">
    <div class="card">
        <div class="header">
            <div class="logo">📦</div>
            <h1>Sistema de Inventarios</h1>
            <p>{{ isLogin ? 'Inicia sesión en tu cuenta' :
                'Crea tu nueva cuenta' }}</p>
        </div>

        <div class="toggle">
            <button [class.active]="isLogin"
                (click)="toggleAuthMode(true)">
                Iniciar Sesión
            </button>
            <button [class.active]="!isLogin"
                (click)="toggleAuthMode(false)">
                Registrarse
            </button>
        </div>

        <form id="authForm" class="form" [formGroup]="authForm"
            (ngSubmit)="onSubmit()">
            <div *ngIf="!isLogin" class="form-group">
                <label for="username">Nombre completo</label>
                <input
                    type="text"
                    id="username"
                    formControlName="username"
                    placeholder="Ingresa tu nombre completo" />
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input
                    type="email"
                    id="email"
                    formControlName="email"
                    placeholder="ejemplo@correo.com" />
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>
                <input
                    id="password"
                    formControlName="password"
                    type="password" />
                <div
                    *ngIf="authForm.get('password')?.invalid && authForm.get('password')?.touched"
                    class="error">
                    <small
                        *ngIf="authForm.get('password')?.errors?.['required']">
                        La contraseña es obligatoria
                    </small>
                    <small
                        *ngIf="authForm.get('password')?.errors?.['pattern']">
                        La contraseña debe tener al menos 8 caracteres, una
                        mayúscula, una minúscula, un número y un carácter
                        especial
                    </small>
                </div>
            </div>

            <button class="submit" [disabled]="authForm.invalid || isLoading">
                <span *ngIf="!isLoading">{{ isLogin ? 'Iniciar Sesión' :
                    'Crear Cuenta' }}</span>
                <span *ngIf="isLoading">Iniciando sesión...</span>
            </button>
        </form>

        <div class="footer">
            <p>
                {{ isLogin ? '¿No tienes una cuenta?' : '¿Ya tienes una cuenta?'
                }}
                <button class="link" (click)="toggleAuthMode()">
                    {{ isLogin ? 'Regístrate aquí' : 'Inicia sesión' }}
                </button>
            </p>
        </div>
    </div>

</div>